{%- macro php_block(section, settings) %}

    {%- if settings is number or settings is string %}
{{ section }} = {{ settings }}
    {%- else %}
[{{ section }}]
        {%- for setting, value in settings.items() -%}
            {%- if value is number or value is string %}
    {{ setting }} = {{ value }}
            {%- elif value is iterable -%}
                {%- if setting == 'error_reporting' %}
    {{ setting }} = {{ value|join(" & ") }}
                {%- else %}
    {{ setting }} = {{ value|join(",") }}
                {%- endif -%}
            {%- endif %}
        {%- endfor -%}
    {%- endif -%}
{%- endmacro -%}

; PHP configuration file.
;
; **** DO NOT EDIT THIS FILE ****
;
; This file is managed by Salt
{%- for section, settings in config.items() -%}
{{ php_block(section, settings) }}
{%- endfor -%}
